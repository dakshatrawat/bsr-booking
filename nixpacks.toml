[phases.setup]
nixPkgs = ["jdk"]

[phases.install]
cmds = [
  "if [ -f spring-backend/mvnw ]; then cd spring-backend && chmod +x ./mvnw && ./mvnw clean package -DskipTests; else echo 'mvnw not found, using mvn'; cd spring-backend && mvn clean package -DskipTests; fi"
]

[start]
cmd = "cd spring-backend && java -jar target/*.jar"

